// adminMethods.ts
import axios from 'axios';
import { useNavigate } from 'react-router-dom';

export const handleLogout = async (navigate: any) => {
  try {
    const response = await axios.post('http://localhost:4000/logout', {}, { withCredentials: true });

    if (response.status === 200) {
      navigate('login'); // Redirige vers /login
    } else {
      console.error('Erreur lors de la déconnexion : ', response.status);
    }
  } catch (error) {
    console.error("Erreur lors de la déconnexion :", error);
  }
};

export const goToProfile = (navigate: any, username: string) => {
  navigate(`/profile/${username}`); // Redirige vers la page de profil
};

export const showDropdown = (setDropdownVisible: React.Dispatch<React.SetStateAction<boolean>>) => {
  setDropdownVisible(true);
};

export const hideDropdown = (setDropdownVisible: React.Dispatch<React.SetStateAction<boolean>>) => {
  setDropdownVisible(false);
};
